LAMMPS (21 Jul 2020)
echo    both
#package gpu 1

#------------- USER Variables ----------------
variable        filename   string    block_28_14_14
variable        heatflux   equal    20.0
variable        dump_freq  equal  100

# boltzmann constant in appropriate units
variable        boltz_real     equal 0.0019872041
variable        boltz_metal    equal 8.617342e-5
variable        boltz          equal ${boltz_metal}
variable        boltz          equal 8.617342e-05

variable        lattice_const  equal 3.57772
variable        starttemp    equal 300

variable xmax equal 25.0
variable xmin equal -25.0
variable ymax equal 12.5
variable ymin equal -12.5
variable zmax equal 12.5
variable zmin equal -12.5
#----------------------------------------------
##########################################
units           metal
atom_style      full

boundary        p p p

#read_restart    config5
lattice         fcc ${lattice_const}
lattice         fcc 3.57772
Lattice spacing in x,y,z = 3.5777200 3.5777200 3.5777200
region sim_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} # units for region are lattice (default)
region sim_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 12.5 
create_box 1 sim_box
Created orthogonal box = (-89.443000 -44.721500 -44.721500) to (89.443000 44.721500 44.721500)
  1 by 1 by 1 MPI processor grid
#region atom_box block -24 -20 -12 -10 -12 -10
region atom_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 12.5
create_atoms 1 region atom_box
Created 125000 atoms
  create_atoms CPU = 0.027 seconds

mass	        1 55.845
variable        mid_val        equal    xhi/2.0

# APT: these commands seem to be mixing lattice and box units
variable        low_val        equal    ${mid_val}-4*${lattice_const}
variable        low_val        equal    44.7215-4*${lattice_const}
variable        low_val        equal    44.7215-4*3.57772
variable        high_val       equal    ${mid_val}+4*${lattice_const}
variable        high_val       equal    44.7215+4*${lattice_const}
variable        high_val       equal    44.7215+4*3.57772

# APT: This is just another way of saying max_val = xhi
variable        max_val        equal    ${high_val}+${low_val}
variable        max_val        equal    59.03238+${low_val}
variable        max_val        equal    59.03238+30.41062

include pot_iron.mod
pair_style eam/fs
pair_coeff * * FeVoter-ChenRecheck.fs Fe

#pair_style      eam/alloy
#pair_coeff      * * FeNiCr_Bonny_2013_ptDef.eam.alloy Fe Cr Ni

set             atom * type 1
  125000 settings made for type
neighbor        2.0 bin
neigh_modify    every 5 delay 0 check yes
#group		myg type 1
#variable        st equal ${starttemp}*1.5
#velocity        all create ${st} 87287 mom yes loop geom

#fix             thermostat all npt temp ${starttemp} ${starttemp} 10.0 iso 0.0 0.0 1000.0
#fix             thermostat all langevin ${starttemp} ${starttemp} 0.1 618341
fix             1 all nve
#fix		rig myg rigid/nve group 1 myg langevin 500 500 0.005 1041
#velocity        all set 5 NULL NULL sum yes units box

######################################################################
#region          lhs block -${high_val} -${low_val} EDGE EDGE EDGE EDGE units box
#region          rhs block  ${low_val} ${high_val} EDGE EDGE EDGE EDGE units box
#group           lhs_group dynamic all region lhs every 1
#group           rhs_group dynamic all region rhs every 1
#fix		hot all langevin 500 500 0.005 1041
#fix		cold rhs_group langevin 100 100 0.01 1041
#fix             qin lhs_group heat 1 ${heatflux}
#fix             qout rhs_group heat 1 -${heatflux}

###########################################################################
compute 	mytemp all temp/com
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te lang flang conv yes 50 e_stop no
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 ${filename}.Te lang flang conv yes 50 e_stop no
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 block_28_14_14.Te lang flang conv yes 50 e_stop no
fix      	flang all langevin 0.0 0.0 1.88735 1041
fix_modify      flang temp mytemp
###########################################################################

# output
compute         pe all pe/atom
compute         ke all ke/atom
variable        temp atom c_ke/1.5/v_boltz

dump            1z1 all custom ${dump_freq} ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 block_28_14_14.dumpovito id type mol x y z c_ke c_pe

compute         temp_chunk all chunk/atom bin/1d x lower 1.0
fix             4 all ave/chunk 1 ${dump_freq} ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file block_28_14_14.tmpProfile

# run
timestep        0.001
thermo_style 	custom time step temp lx ly lz press pxx pyy pzz etotal epair enthalpy vol density f_melt[1] f_melt[2] # f_flang
thermo          10
run             100
Neighbor list info ...
  update every 5 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.524
  ghost atom cutoff = 6.524
  binsize = 3.262, bins = 55 28 28
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/newton
      stencil: half/bin/3d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 118.3 | 118.3 | 118.3 Mbytes
Time Step Temp Lx Ly Lz Press Pxx Pyy Pzz TotEng E_pair Enthalpy Volume Density f_melt[1] f_melt[2] 
           0        0            0      178.886       89.443       89.443    27436.839    27436.839    27436.839    27436.839   -532207.31   -532207.31   -507700.16      1431097    8.1005253    2814.3722            0 
        0.01       10    16.004739      178.886       89.443       89.443    27696.024    27696.274    27695.993    27695.805   -531936.62   -532195.22   -507197.96      1431097    8.1005253     2522.877    27.680118 
        0.02       20    27.324382      178.886       89.443       89.443    28248.876    28249.176    28249.314    28248.138   -531676.22   -532117.71   -506443.74      1431097    8.1005253    2264.6901    24.716863 
        0.03       30    32.128441      178.886       89.443       89.443     29157.32    29156.312    29156.162    29159.486   -531443.96   -531963.07   -505400.04      1431097    8.1005253    2034.6657    21.723857 
        0.04       40    33.704645      178.886       89.443       89.443    30247.535    30243.061    30246.848    30252.697   -531233.87   -531778.45   -504216.15      1431097    8.1005253    1826.2159    19.757913 
        0.05       50    35.584436      178.886       89.443       89.443    31270.204    31264.054    31267.871    31278.688   -531047.34   -531622.29   -503116.15      1431097    8.1005253    1641.3007     17.63375 
        0.06       60    39.326432      178.886       89.443       89.443    32106.043    32098.561    32101.793    32117.774   -530880.74   -531516.15   -502202.96      1431097    8.1005253     1476.055    15.865095 
        0.07       70    43.693021      178.886       89.443       89.443    32803.433     32792.77    32801.704    32815.825   -530731.68   -531437.64   -501430.97      1431097    8.1005253    1328.4804    13.720468 
        0.08       80     46.92583      178.886       89.443       89.443    33440.511    33433.368     33440.24    33447.926   -530601.18   -531359.38   -500731.43      1431097    8.1005253    1199.1366    12.216747 
        0.09       90    49.371418      178.886       89.443       89.443    34022.125    34016.883    34024.118    34025.374   -530482.13   -531279.85   -500092.87      1431097    8.1005253     1081.065    10.972745 
         0.1      100     52.22262      178.886       89.443       89.443    34473.058    34470.909    34474.309    34473.955   -530376.42    -531220.2   -499584.38      1431097    8.1005253    976.56854    9.1611548 
Loop time of 14.7846 on 1 procs for 100 steps with 125000 atoms

Performance: 0.584 ns/day, 41.068 hours/ns, 6.764 timesteps/s
98.9% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 13.022     | 13.022     | 13.022     |   0.0 | 88.08
Bond    | 4.5e-05    | 4.5e-05    | 4.5e-05    |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.055632   | 0.055632   | 0.055632   |   0.0 |  0.38
Output  | 0.18808    | 0.18808    | 0.18808    |   0.0 |  1.27
Modify  | 1.4943     | 1.4943     | 1.4943     |   0.0 | 10.11
Other   |            | 0.02436    |            |       |  0.16

Nlocal:       125000.0 ave      125000 max      125000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        48821.0 ave       48821 max       48821 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    5.37500e+06 ave   5.375e+06 max   5.375e+06 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5375000
Ave neighs/atom = 43.000000
Ave special neighs/atom = 0.0000000
Neighbor list builds = 0
Dangerous builds = 0
#velocity        all set 5 NULL NULL sum yes units box
#run 5000

#write_data      ${filename}_${starttemp}.lammps
write_restart     ${filename}_${starttemp}.restart
write_restart     block_28_14_14_${starttemp}.restart
write_restart     block_28_14_14_300.restart
write_restart   config${filename}
write_restart   configblock_28_14_14
Total wall time: 0:00:15
