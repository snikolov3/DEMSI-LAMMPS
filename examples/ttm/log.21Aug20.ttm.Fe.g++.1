LAMMPS (21 Jul 2020)
echo    both
#package gpu 1

#------------- USER Variables ----------------
variable        filename   string    block_28_14_14
variable        heatflux   equal    20.0
variable        dump_freq  equal  100

# boltzmann constant in appropriate units
variable        boltz_real     equal 0.0019872041
variable        boltz_metal    equal 8.617342e-5
variable        boltz          equal ${boltz_metal}
variable        boltz          equal 8.617342e-05

variable        lattice_const  equal 3.57772
variable        starttemp    equal 300

variable xmax equal 25.0
variable xmin equal -25.0
variable ymax equal 12.5
variable ymin equal -12.5
variable zmax equal 12.5
variable zmin equal -12.5
#----------------------------------------------
##########################################
units           metal
atom_style      full

boundary        p p p

#read_restart    config5
lattice         fcc ${lattice_const}
lattice         fcc 3.57772
Lattice spacing in x,y,z = 3.5777200 3.5777200 3.5777200
region sim_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} # units for region are lattice (default)
region sim_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 12.5 
create_box 1 sim_box
Created orthogonal box = (-89.443000 -44.721500 -44.721500) to (89.443000 44.721500 44.721500)
  1 by 1 by 1 MPI processor grid
#region atom_box block -24 -20 -12 -10 -12 -10
region atom_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 12.5
create_atoms 1 region atom_box
Created 125000 atoms
  create_atoms CPU = 0.028 seconds

mass	        1 55.845
variable        mid_val        equal    xhi/2.0

# APT: these commands seem to be mixing lattice and box units
variable        low_val        equal    ${mid_val}-4*${lattice_const}
variable        low_val        equal    44.7215-4*${lattice_const}
variable        low_val        equal    44.7215-4*3.57772
variable        high_val       equal    ${mid_val}+4*${lattice_const}
variable        high_val       equal    44.7215+4*${lattice_const}
variable        high_val       equal    44.7215+4*3.57772

# APT: This is just another way of saying max_val = xhi
variable        max_val        equal    ${high_val}+${low_val}
variable        max_val        equal    59.03238+${low_val}
variable        max_val        equal    59.03238+30.41062

include pot_iron.mod
pair_style eam/fs
pair_coeff * * FeVoter-ChenRecheck.fs Fe

#pair_style      eam/alloy
#pair_coeff      * * FeNiCr_Bonny_2013_ptDef.eam.alloy Fe Cr Ni

set             atom * type 1
  125000 settings made for type
neighbor        2.0 bin
neigh_modify    every 5 delay 0 check yes
#group		myg type 1
#variable        st equal ${starttemp}*1.5
#velocity        all create ${st} 87287 mom yes loop geom

#fix             thermostat all npt temp ${starttemp} ${starttemp} 10.0 iso 0.0 0.0 1000.0
#fix             thermostat all langevin ${starttemp} ${starttemp} 0.1 618341
fix             1 all nve
#fix		rig myg rigid/nve group 1 myg langevin 500 500 0.005 1041
#velocity        all set 5 NULL NULL sum yes units box

######################################################################
#region          lhs block -${high_val} -${low_val} EDGE EDGE EDGE EDGE units box
#region          rhs block  ${low_val} ${high_val} EDGE EDGE EDGE EDGE units box
#group           lhs_group dynamic all region lhs every 1
#group           rhs_group dynamic all region rhs every 1
#fix		hot all langevin 500 500 0.005 1041
#fix		cold rhs_group langevin 100 100 0.01 1041
#fix             qin lhs_group heat 1 ${heatflux}
#fix             qout rhs_group heat 1 -${heatflux}

###########################################################################
#fix 1z          all langevin 1.0 1.1 100.0 48279 scale 1 1.5
compute 	mytemp all temp/com
compute         mytemp1 all temp/com
#fix             melt all ttm 1041 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te lang flang conv yes 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 ${filename}.Te lang flang conv yes 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 block_28_14_14.Te lang flang conv yes 50
fix             flang all langevin ttm melt 1041
#fix             flang all langevin ttm melt 342785
fix_modify      melt temp mytemp
#fix_modify      flang temp mytemp1
#fix_modify      flang temp mytemp
###########################################################################

# output
compute         pe all pe/atom
compute         ke all ke/atom
variable        temp atom c_ke/1.5/v_boltz

dump            1z1 all custom ${dump_freq} ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 block_28_14_14.dumpovito id type mol x y z c_ke c_pe

compute         temp_chunk all chunk/atom bin/1d x lower 1.0
fix             4 all ave/chunk 1 ${dump_freq} ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file block_28_14_14.tmpProfile

# run
timestep        0.001
thermo_style 	custom time step temp lx ly lz press pxx pyy pzz etotal epair enthalpy vol density f_melt[1] f_melt[2]
thermo          10
run             500
Neighbor list info ...
  update every 5 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.524
  ghost atom cutoff = 6.524
  binsize = 3.262, bins = 55 28 28
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/newton
      stencil: half/bin/3d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 116.9 | 116.9 | 116.9 Mbytes
Time Step Temp Lx Ly Lz Press Pxx Pyy Pzz TotEng E_pair Enthalpy Volume Density f_melt[1] f_melt[2] 
           0        0            0      178.886       89.443       89.443    27436.839    27436.839    27436.839    27436.839   -532207.31   -532207.31   -507700.16      1431097    8.1005253    2814.3722            0 
        0.01       10     16.04188      178.886       89.443       89.443    27696.532    27697.003    27697.035    27695.559   -531936.01   -532195.21    -507196.9      1431097    8.1005253     2522.444    27.325867 
        0.02       20    27.352276      178.886       89.443       89.443    28250.296    28250.556    28251.404    28248.929   -531675.57   -532117.51   -506441.82      1431097    8.1005253    2263.9228    24.963702 
        0.03       30    32.138672      178.886       89.443       89.443    29160.352    29159.003    29159.912    29162.141   -531443.26   -531962.54   -505396.64      1431097    8.1005253     2033.665    22.334552 
        0.04       40    33.691124      178.886       89.443       89.443    30250.973    30245.636    30250.778    30256.505   -531233.47   -531777.83   -504212.68      1431097    8.1005253    1825.6223    20.101212 
        0.05       50    35.584972      178.886       89.443       89.443    31274.164    31267.285     31271.98    31283.228   -531046.66   -531621.62   -503111.94      1431097    8.1005253    1640.8059    17.261345 
        0.06       60    39.317371      178.886       89.443       89.443    32109.481    32100.821    32104.539    32123.083    -530880.3   -531515.57   -502199.45      1431097    8.1005253    1475.6941    15.688907 
        0.07       70    43.709224      178.886       89.443       89.443     32805.91     32793.93     32802.81    32820.991   -530731.05   -531437.28   -501428.14      1431097    8.1005253    1327.6001    14.227557 
        0.08       80     46.96755      178.886       89.443       89.443    33442.948    33434.239    33441.393    33453.212    -530600.2   -531359.08   -500728.28      1431097    8.1005253    1198.1449    12.186542 
        0.09       90     49.38172      178.886       89.443       89.443    34023.545    34015.757    34024.528     34030.35   -530481.76   -531279.64   -500091.23      1431097    8.1005253    1080.3093    11.694495 
         0.1      100    52.272845      178.886       89.443       89.443    34474.309    34467.698    34475.502    34479.728   -530375.44   -531220.03   -499582.27      1431097    8.1005253    975.23432    9.8352804 
        0.11      110    56.221224      178.886       89.443       89.443    34755.659    34750.829    34760.563    34755.584   -530283.96   -531192.35   -499239.49      1431097    8.1005253    884.70598    8.4437508 
        0.12      120    60.670355      178.886       89.443       89.443    34931.038    34928.438    34938.951    34925.726   -530202.46   -531182.74   -499001.34      1431097    8.1005253    803.61747    8.0705306 
        0.13      130     64.10681      178.886       89.443       89.443    35110.633     35110.16    35118.109     35103.63   -530128.63   -531164.43   -498767.09      1431097    8.1005253     730.5222    7.0261957 
        0.14      140    65.753278      178.886       89.443       89.443    35351.238    35347.746    35360.243    35345.725   -530062.51   -531124.91   -498486.05      1431097    8.1005253    665.02474     6.168885 
        0.15      150    66.521718      178.886       89.443       89.443     35610.18    35602.574    35621.309    35606.655   -530003.05   -531077.86    -498195.3      1431097    8.1005253    605.95384    5.7744858 
        0.16      160    67.748611      178.886       89.443       89.443     35804.67    35794.767    35814.742      35804.5   -529951.26    -531045.9   -497969.79      1431097    8.1005253    554.67023    5.0697991 
        0.17      170    70.017575      178.886       89.443       89.443    35908.363    35901.658     35915.11     35908.32   -529904.85   -531036.15   -497830.76      1431097    8.1005253    508.76213    4.3335631 
        0.18      180     72.44784      178.886       89.443       89.443    35971.382    35969.587    35972.331    35972.228   -529863.92   -531034.48   -497733.54      1431097    8.1005253    468.18026    3.8340566 
        0.19      190    73.898364      178.886       89.443       89.443    36065.583    36069.516    36060.496    36066.738   -529828.31   -531022.31   -497613.79      1431097    8.1005253    433.12918     2.924407 
         0.2      200    74.321338      178.886       89.443       89.443     36210.24    36219.262    36200.236     36211.22   -529795.36    -530996.2   -497451.63      1431097    8.1005253    400.31704    2.8773968 
        0.21      210    74.456335      178.886       89.443       89.443    36358.687     36374.03    36345.095    36356.937   -529766.43   -530969.45   -497290.11      1431097    8.1005253    371.56479    2.6938252 
        0.22      220     75.24163      178.886       89.443       89.443    36462.137    36482.775     36446.47    36457.167   -529739.55   -530955.26   -497170.82      1431097    8.1005253    345.01284     2.202195 
        0.23      230    76.475627      178.886       89.443       89.443    36521.048    36542.347    36508.582    36512.215   -529716.47   -530952.12   -497095.12      1431097    8.1005253      321.917    2.3462591 
        0.24      240    77.600576      178.886       89.443       89.443    36578.565    36593.433    36574.717    36567.544   -529694.47   -530948.29   -497021.75      1431097    8.1005253    300.21462    1.8618297 
        0.25      250    77.983978      178.886       89.443       89.443    36659.233    36663.804    36663.065    36650.828   -529675.57   -530935.59   -496930.79      1431097    8.1005253    281.45757    1.6973718 
        0.26      260    77.882546      178.886       89.443       89.443    36751.233    36748.184    36760.109    36745.407   -529659.27   -530917.65   -496832.31      1431097    8.1005253    265.31108    1.4969725 
        0.27      270    78.077502      178.886       89.443       89.443    36817.035    36808.424    36826.466    36816.217    -529644.3   -530905.83   -496758.57      1431097    8.1005253    250.37196    1.5342717 
        0.28      280    78.965834      178.886       89.443       89.443    36834.466    36826.616    36842.146    36834.637   -529630.66   -530906.54   -496729.36      1431097    8.1005253    236.99474    1.0734022 
        0.29      290    80.029579      178.886       89.443       89.443    36828.649    36823.679    36832.463    36829.805   -529619.69   -530912.76   -496723.58      1431097    8.1005253    226.09462   0.98097511 
         0.3      300    80.659923      178.886       89.443       89.443    36843.446    36838.831    36845.413    36846.095   -529609.52   -530912.77    -496700.2      1431097    8.1005253    215.98059   0.92052693 
        0.31      310    80.597292      178.886       89.443       89.443     36892.28    36884.965    36896.182    36895.693   -529600.55   -530902.79    -496647.6      1431097    8.1005253    207.18253    0.6348846 
        0.32      320    80.270538      178.886       89.443       89.443    36951.692    36938.268    36959.787    36957.023    -529592.2   -530889.16   -496586.19      1431097    8.1005253    198.76402   0.83418838 
        0.33      330    80.312446      178.886       89.443       89.443    36988.494    36967.444    37002.393    36995.645   -529584.07   -530881.71   -496545.19      1431097    8.1005253    190.66011   0.83089038 
        0.34      340    80.864191      178.886       89.443       89.443    36991.749    36967.036    37008.126    37000.086   -529576.45      -530883   -496534.66      1431097    8.1005253    183.11384   0.72253041 
        0.35      350    81.458737      178.886       89.443       89.443    36982.219    36957.255    36999.431    36989.971   -529570.89   -530887.05   -496537.61      1431097    8.1005253    177.51581   0.82998255 
        0.36      360    81.739639      178.886       89.443       89.443    36985.969    36963.404    37001.813    36992.692   -529566.43   -530887.13    -496529.8      1431097    8.1005253    173.32837   0.30088094 
        0.37      370    81.718973      178.886       89.443       89.443    37008.456      36990.4    37020.051    37014.918   -529562.04   -530882.41   -496505.33      1431097    8.1005253    168.85246   0.50865556 
        0.38      380    81.641825      178.886       89.443       89.443    37035.053    37023.762    37040.251    37041.146   -529557.75   -530876.86   -496477.28      1431097    8.1005253    164.63411   0.39000194 
        0.39      390    81.600898      178.886       89.443       89.443    37050.313     37046.64    37050.271    37054.027   -529555.78   -530874.24   -496461.68      1431097    8.1005253    162.87107 -0.010279378 
         0.4      400     81.90467      178.886       89.443       89.443    37054.969    37058.929    37051.537     37054.44   -529551.77   -530875.13   -496453.51      1431097    8.1005253     158.6587   0.41171838 
        0.41      410    82.132693      178.886       89.443       89.443    37059.664     37070.19    37053.147    37055.654   -529548.89   -530875.94   -496446.43      1431097    8.1005253    155.78862   0.40397128 
        0.42      420    82.207091      178.886       89.443       89.443    37073.893    37088.749    37067.211     37065.72   -529545.49   -530873.74   -496430.32      1431097    8.1005253    152.28569   0.62512325 
        0.43      430    82.156907      178.886       89.443       89.443    37092.809    37109.398    37086.284    37082.746   -529541.89   -530869.33   -496409.83      1431097    8.1005253    148.88802   0.26136705 
        0.44      440    82.056514      178.886       89.443       89.443    37105.995    37123.153    37097.396    37097.437   -529540.08    -530865.9   -496396.24      1431097    8.1005253    147.11085    0.2054568 
        0.45      450    82.170043      178.886       89.443       89.443    37106.203    37120.704    37095.877    37102.029   -529538.25   -530865.91   -496394.23      1431097    8.1005253    145.35503  0.072542234 
        0.46      460    82.470775      178.886       89.443       89.443    37093.893    37104.309    37083.384    37093.987   -529536.55   -530869.07   -496403.53      1431097    8.1005253    143.71456 -0.040706626 
        0.47      470    82.772642      178.886       89.443       89.443    37079.468    37088.766    37070.275    37079.365   -529535.12   -530872.51   -496414.97      1431097    8.1005253     142.2239  0.070210061 
        0.48      480    82.898762      178.886       89.443       89.443     37074.18     37083.75    37065.474    37073.316   -529534.24   -530873.67   -496418.82      1431097    8.1005253     141.2664   0.23935674 
        0.49      490    82.802426      178.886       89.443       89.443    37082.273    37092.735    37070.745    37083.339   -529533.84   -530871.71   -496411.19      1431097    8.1005253    141.00806 -0.051679385 
         0.5      500    82.650604      178.886       89.443       89.443    37099.717    37109.266     37084.77    37105.116   -529532.63   -530868.05    -496394.4      1431097    8.1005253    139.75192  0.063134153 
Loop time of 78.1513 on 1 procs for 500 steps with 125000 atoms

Performance: 0.553 ns/day, 43.417 hours/ns, 6.398 timesteps/s
99.3% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 69.444     | 69.444     | 69.444     |   0.0 | 88.86
Bond    | 0.000284   | 0.000284   | 0.000284   |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.26203    | 0.26203    | 0.26203    |   0.0 |  0.34
Output  | 0.89354    | 0.89354    | 0.89354    |   0.0 |  1.14
Modify  | 7.4334     | 7.4334     | 7.4334     |   0.0 |  9.51
Other   |            | 0.1179     |            |       |  0.15

Nlocal:       125000.0 ave      125000 max      125000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        48821.0 ave       48821 max       48821 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    5.37500e+06 ave   5.375e+06 max   5.375e+06 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5375000
Ave neighs/atom = 43.000000
Ave special neighs/atom = 0.0000000
Neighbor list builds = 0
Dangerous builds = 0
#velocity        all set 5 NULL NULL sum yes units box
#run 5000

#write_data      ${filename}_${starttemp}.lammps
write_restart     ${filename}_${starttemp}.restart
write_restart     block_28_14_14_${starttemp}.restart
write_restart     block_28_14_14_300.restart
write_restart   config${filename}
write_restart   configblock_28_14_14
Total wall time: 0:01:18
