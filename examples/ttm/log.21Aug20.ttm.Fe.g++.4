LAMMPS (21 Jul 2020)
echo    both
#package gpu 1

#------------- USER Variables ----------------
variable        filename   string    block_28_14_14
variable        heatflux   equal    20.0
variable        dump_freq  equal  100

# boltzmann constant in appropriate units
variable        boltz_real     equal 0.0019872041
variable        boltz_metal    equal 8.617342e-5
variable        boltz          equal ${boltz_metal}
variable        boltz          equal 8.617342e-05

variable        lattice_const  equal 3.57772
variable        starttemp    equal 300

variable xmax equal 25.0
variable xmin equal -25.0
variable ymax equal 12.5
variable ymin equal -12.5
variable zmax equal 12.5
variable zmin equal -12.5
#----------------------------------------------
##########################################
units           metal
atom_style      full

boundary        p p p

#read_restart    config5
lattice         fcc ${lattice_const}
lattice         fcc 3.57772
Lattice spacing in x,y,z = 3.5777200 3.5777200 3.5777200
region sim_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} # units for region are lattice (default)
region sim_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 12.5 
create_box 1 sim_box
Created orthogonal box = (-89.443000 -44.721500 -44.721500) to (89.443000 44.721500 44.721500)
  2 by 1 by 2 MPI processor grid
#region atom_box block -24 -20 -12 -10 -12 -10
region atom_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 12.5
create_atoms 1 region atom_box
Created 125000 atoms
  create_atoms CPU = 0.012 seconds

mass	        1 55.845
variable        mid_val        equal    xhi/2.0

# APT: these commands seem to be mixing lattice and box units
variable        low_val        equal    ${mid_val}-4*${lattice_const}
variable        low_val        equal    44.7215-4*${lattice_const}
variable        low_val        equal    44.7215-4*3.57772
variable        high_val       equal    ${mid_val}+4*${lattice_const}
variable        high_val       equal    44.7215+4*${lattice_const}
variable        high_val       equal    44.7215+4*3.57772

# APT: This is just another way of saying max_val = xhi
variable        max_val        equal    ${high_val}+${low_val}
variable        max_val        equal    59.03238+${low_val}
variable        max_val        equal    59.03238+30.41062

include pot_iron.mod
pair_style eam/fs
pair_coeff * * FeVoter-ChenRecheck.fs Fe

#pair_style      eam/alloy
#pair_coeff      * * FeNiCr_Bonny_2013_ptDef.eam.alloy Fe Cr Ni

set             atom * type 1
  125000 settings made for type
neighbor        2.0 bin
neigh_modify    every 5 delay 0 check yes
#group		myg type 1
#variable        st equal ${starttemp}*1.5
#velocity        all create ${st} 87287 mom yes loop geom

#fix             thermostat all npt temp ${starttemp} ${starttemp} 10.0 iso 0.0 0.0 1000.0
#fix             thermostat all langevin ${starttemp} ${starttemp} 0.1 618341
fix             1 all nve
#fix		rig myg rigid/nve group 1 myg langevin 500 500 0.005 1041
#velocity        all set 5 NULL NULL sum yes units box

######################################################################
#region          lhs block -${high_val} -${low_val} EDGE EDGE EDGE EDGE units box
#region          rhs block  ${low_val} ${high_val} EDGE EDGE EDGE EDGE units box
#group           lhs_group dynamic all region lhs every 1
#group           rhs_group dynamic all region rhs every 1
#fix		hot all langevin 500 500 0.005 1041
#fix		cold rhs_group langevin 100 100 0.01 1041
#fix             qin lhs_group heat 1 ${heatflux}
#fix             qout rhs_group heat 1 -${heatflux}

###########################################################################
#fix 1z          all langevin 1.0 1.1 100.0 48279 scale 1 1.5
compute 	mytemp all temp/com
compute         mytemp1 all temp/com
#fix             melt all ttm 1041 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te lang flang conv yes 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 ${filename}.Te lang flang conv yes 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 block_28_14_14.Te lang flang conv yes 50
fix             flang all langevin ttm melt 1041
#fix             flang all langevin ttm melt 342785
fix_modify      melt temp mytemp
#fix_modify      flang temp mytemp1
#fix_modify      flang temp mytemp
###########################################################################

# output
compute         pe all pe/atom
compute         ke all ke/atom
variable        temp atom c_ke/1.5/v_boltz

dump            1z1 all custom ${dump_freq} ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 block_28_14_14.dumpovito id type mol x y z c_ke c_pe

compute         temp_chunk all chunk/atom bin/1d x lower 1.0
fix             4 all ave/chunk 1 ${dump_freq} ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file block_28_14_14.tmpProfile

# run
timestep        0.001
thermo_style 	custom time step temp lx ly lz press pxx pyy pzz etotal epair enthalpy vol density f_melt[1] f_melt[2]
thermo          10
run             500
Neighbor list info ...
  update every 5 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.524
  ghost atom cutoff = 6.524
  binsize = 3.262, bins = 55 28 28
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/newton
      stencil: half/bin/3d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 40.27 | 40.27 | 40.27 Mbytes
Time Step Temp Lx Ly Lz Press Pxx Pyy Pzz TotEng E_pair Enthalpy Volume Density f_melt[1] f_melt[2] 
           0        0            0      178.886       89.443       89.443    27436.839    27436.839    27436.839    27436.839   -532207.31   -532207.31   -507700.16      1431097    8.1005253    2814.3722            0 
        0.01       10    15.989689      178.886       89.443       89.443    27695.695    27695.986    27695.637    27695.462   -531936.89   -532195.24   -507198.53      1431097    8.1005253    2523.3804    27.247315 
        0.02       20     27.40437      178.886       89.443       89.443    28249.307    28249.795    28249.286    28248.841   -531675.02   -532117.81   -506442.16      1431097    8.1005253    2263.6055    24.546721 
        0.03       30    32.197128      178.886       89.443       89.443    29157.416    29157.651    29156.379    29158.216   -531442.98    -531963.2   -505398.97      1431097    8.1005253    2033.5609    21.948765 
        0.04       40    33.711341      178.886       89.443       89.443    30245.376    30246.428     30243.93    30245.769   -531234.26   -531778.95   -504218.47      1431097    8.1005253    1826.8184    19.294059 
        0.05       50     35.45857      178.886       89.443       89.443    31268.631    31268.177    31269.895     31267.82   -531049.43   -531622.34   -503119.64      1431097    8.1005253    1643.3802    17.618436 
        0.06       60    39.191173      178.886       89.443       89.443    32108.727    32107.267    32111.073    32107.841   -530881.87    -531515.1    -502201.7      1431097    8.1005253    1477.3913    15.421767 
        0.07       70    43.573071      178.886       89.443       89.443    32800.375    32796.995    32803.535    32800.595   -530733.37   -531437.39    -501435.4      1431097    8.1005253    1330.4173    13.196015 
        0.08       80    46.946912      178.886       89.443       89.443    33427.811    33420.861    33430.699    33431.873   -530602.59   -531361.13   -500744.18      1431097    8.1005253    1200.5386    12.148061 
        0.09       90    49.378309      178.886       89.443       89.443    33995.763    33989.847    33996.733    34000.709    -530486.3   -531284.12   -500120.58      1431097    8.1005253    1085.2268    10.911259 
         0.1      100    52.299206      178.886       89.443       89.443    34441.418    34437.644    34437.122    34449.487   -530380.48    -531225.5   -499616.69      1431097    8.1005253    980.52492    9.3088451 
        0.11      110    56.328891      178.886       89.443       89.443    34728.622    34725.853    34720.781    34739.231   -530286.76   -531196.89   -499266.44      1431097    8.1005253    887.35452    8.7452962 
        0.12      120    60.687556      178.886       89.443       89.443    34913.308    34910.998     34900.99    34927.938   -530204.77   -531185.33   -499019.49      1431097    8.1005253    806.26179    7.3967134 
        0.13      130    64.012094      178.886       89.443       89.443    35099.691    35098.968    35086.695    35113.409   -530131.32   -531165.59   -498779.55      1431097    8.1005253    733.13926    7.1455466 
        0.14      140    65.645594      178.886       89.443       89.443    35339.723    35340.645    35326.461    35352.063   -530065.93    -531126.6   -498499.77      1431097    8.1005253    668.38746    6.2757649 
        0.15      150    66.476069      178.886       89.443       89.443    35598.126    35599.006    35585.903    35609.469   -530006.26   -531080.34   -498209.28      1431097    8.1005253    609.30988     5.447706 
        0.16      160    67.775624      178.886       89.443       89.443    35802.968    35803.226    35791.775    35813.903   -529952.09   -531047.17   -497972.15      1431097    8.1005253     555.1458    5.7757526 
        0.17      170    69.932798      178.886       89.443       89.443    35920.849    35917.054    35912.031    35933.462   -529904.92   -531034.85   -497819.68      1431097    8.1005253    508.83893    4.3118614 
        0.18      180    72.240527      178.886       89.443       89.443    36002.882    35991.514    35994.366    36022.767   -529862.71   -531029.93   -497704.19      1431097    8.1005253    466.85088    4.0806853 
        0.19      190    73.632397      178.886       89.443       89.443    36108.375     36090.11    36098.623    36136.393   -529826.12   -531015.83   -497573.38      1431097    8.1005253    430.85401    3.1060902 
         0.2      200    74.174237      178.886       89.443       89.443    36244.612    36224.466    36232.596    36276.774   -529792.77   -530991.23   -497418.34      1431097    8.1005253    397.62983    3.0716346 
        0.21      210    74.588424      178.886       89.443       89.443    36369.865    36351.707    36357.602    36400.287   -529763.66   -530968.82   -497277.35      1431097    8.1005253    368.44223    3.4068991 
        0.22      220    75.557729      178.886       89.443       89.443    36450.453    36437.966    36440.677    36472.715   -529737.94   -530958.75   -497179.64      1431097    8.1005253    343.28301    2.4200063 
        0.23      230    76.908167      178.886       89.443       89.443    36499.942     36495.23    36493.621    36510.975   -529714.66   -530957.29   -497112.16      1431097    8.1005253    320.20747    2.1411869 
        0.24      240    77.824746      178.886       89.443       89.443    36561.829     36562.91    36561.556    36561.022   -529694.71   -530952.15   -497036.93      1431097    8.1005253    300.45015    1.8580161 
        0.25      250    77.957454      178.886       89.443       89.443    36660.549    36663.155     36663.05    36655.441   -529676.35   -530935.93   -496930.39      1431097    8.1005253    282.18823    1.7686807 
        0.26      260    77.727515      178.886       89.443       89.443    36772.346     36774.91     36776.53    36765.598   -529658.85   -530914.73   -496813.04      1431097    8.1005253    264.79178    1.6938324 
        0.27      270     77.85572      178.886       89.443       89.443    36847.554    36850.693    36849.268      36842.7   -529643.39   -530901.34    -496730.4      1431097    8.1005253    249.51307    1.4358733 
        0.28      280    78.723631      178.886       89.443       89.443    36865.835    36870.878    36863.808    36862.819    -529629.6   -530901.57   -496700.28      1431097    8.1005253    236.03138   0.88416353 
        0.29      290    79.909661      178.886       89.443       89.443    36852.305    36860.045    36841.363    36855.508   -529618.03   -530909.16   -496700.79      1431097    8.1005253    224.30329     1.244219 
         0.3      300    80.745289      178.886       89.443       89.443     36853.28    36860.179    36836.311     36863.35    -529607.3   -530911.93   -496689.19      1431097    8.1005253    213.70723    1.0235419 
        0.31      310    80.823456      178.886       89.443       89.443    36890.282    36891.102    36869.728    36910.016   -529598.01    -530903.9   -496646.85      1431097    8.1005253    204.51696   0.89110987 
        0.32      320    80.545245      178.886       89.443       89.443    36944.923    36936.645    36925.122    36973.004   -529589.26   -530890.66   -496589.29      1431097    8.1005253    195.92908   0.63192232 
        0.33      330    80.521933      178.886       89.443       89.443    36982.651    36966.467      36967.4    37014.085    -529581.3   -530882.32   -496547.63      1431097    8.1005253    187.77031    1.0759077 
        0.34      340    80.933341      178.886       89.443       89.443     36989.41    36969.936    36981.028    37017.266    -529574.9   -530882.57   -496535.19      1431097    8.1005253    181.71858   0.41155176 
        0.35      350    81.560245      178.886       89.443       89.443    36984.471    36968.927    36980.611    37003.875   -529568.26   -530886.06   -496532.97      1431097    8.1005253    174.91801   0.75938562 
        0.36      360    81.830463      178.886       89.443       89.443    36991.763    36984.212     36989.76    37001.315   -529563.67   -530885.84   -496521.87      1431097    8.1005253    170.51881   0.41334035 
        0.37      370    81.747497      178.886       89.443       89.443    37014.857    37011.999    37012.399    37020.171   -529559.77    -530880.6   -496497.34      1431097    8.1005253    166.66485   0.35351842 
        0.38      380     81.71136      178.886       89.443       89.443    37038.777    37033.856     37035.21    37047.266   -529555.03   -530875.27   -496471.23      1431097    8.1005253    161.96561   0.29727986 
        0.39      390    81.869846      178.886       89.443       89.443     37047.66    37036.451    37042.738    37063.789   -529551.24   -530874.04   -496459.51      1431097    8.1005253    158.14226   0.38256787 
         0.4      400    82.199405      178.886       89.443       89.443    37044.342    37030.281     37039.38    37063.366   -529548.32   -530876.45   -496459.55      1431097    8.1005253    155.32991   0.18061821 
        0.41      410    82.457968      178.886       89.443       89.443    37045.877    37035.328    37039.824    37062.478   -529545.68   -530877.98   -496455.54      1431097    8.1005253    152.85938  -0.15090449 
        0.42      420    82.408454      178.886       89.443       89.443    37064.323    37060.106    37058.482    37074.382   -529543.72   -530875.23   -496437.11      1431097    8.1005253      150.752   0.16542298 
        0.43      430    82.140862      178.886       89.443       89.443     37094.41    37096.067     37089.99    37097.174    -529541.9   -530869.08   -496408.41      1431097    8.1005253    148.91624   0.20814695 
        0.44      440    81.958661      178.886       89.443       89.443    37119.558    37124.334    37118.854    37115.485   -529539.83   -530864.07   -496383.88      1431097    8.1005253    146.87636   0.16209287 
        0.45      450    82.072948      178.886       89.443       89.443    37127.166    37132.029    37132.881    37116.588   -529537.51    -530863.6   -496374.76      1431097    8.1005253    144.64755 -0.0011810365 
        0.46      460    82.375202      178.886       89.443       89.443    37120.925    37126.779    37129.816     37106.18   -529535.14   -530866.11   -496377.97      1431097    8.1005253    142.20463   0.14721447 
        0.47      470    82.629015      178.886       89.443       89.443    37113.955    37122.865     37121.27     37097.73   -529533.24   -530868.31   -496382.29      1431097    8.1005253    140.41954 -0.073557936 
        0.48      480    82.710383      178.886       89.443       89.443    37113.353    37125.919    37115.571    37098.569   -529531.75   -530868.13   -496381.34      1431097    8.1005253    138.77006   0.25633205 
        0.49      490     82.62912      178.886       89.443       89.443    37118.048    37131.529    37114.158    37108.456   -529530.91   -530865.98   -496376.31      1431097    8.1005253    138.12653  -0.12069316 
         0.5      500    82.562066      178.886       89.443       89.443    37124.009     37133.23    37118.823    37119.973   -529529.98   -530863.97   -496370.05      1431097    8.1005253    137.07406   0.12549689 
Loop time of 32.9452 on 4 procs for 500 steps with 125000 atoms

Performance: 1.311 ns/day, 18.303 hours/ns, 15.177 timesteps/s
98.8% CPU use with 4 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 27.48      | 27.657     | 27.907     |   3.1 | 83.95
Bond    | 0.000242   | 0.000253   | 0.000277   |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.93187    | 1.1871     | 1.3584     |  15.2 |  3.60
Output  | 0.42947    | 0.43183    | 0.43366    |   0.2 |  1.31
Modify  | 3.5629     | 3.5705     | 3.5777     |   0.3 | 10.84
Other   |            | 0.09845    |            |       |  0.30

Nlocal:        31250.0 ave       31250 max       31250 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Nghost:        20734.0 ave       20734 max       20734 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Neighs:    1.34375e+06 ave 1.34375e+06 max 1.34375e+06 min
Histogram: 4 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5375000
Ave neighs/atom = 43.000000
Ave special neighs/atom = 0.0000000
Neighbor list builds = 0
Dangerous builds = 0
#velocity        all set 5 NULL NULL sum yes units box
#run 5000

#write_data      ${filename}_${starttemp}.lammps
write_restart     ${filename}_${starttemp}.restart
write_restart     block_28_14_14_${starttemp}.restart
write_restart     block_28_14_14_300.restart
write_restart   config${filename}
write_restart   configblock_28_14_14
Total wall time: 0:00:33
