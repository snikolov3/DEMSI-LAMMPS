LAMMPS (21 Jul 2020)
echo    both
#package gpu 1

#------------- USER Variables ----------------
variable        filename   string    block_28_14_14
variable        heatflux   equal    20.0
variable        dump_freq  equal  100

# boltzmann constant in appropriate units
variable        boltz_real     equal 0.0019872041
variable        boltz_metal    equal 8.617342e-5
variable        boltz          equal ${boltz_metal}
variable        boltz          equal 8.617342e-05

variable        lattice_const  equal 3.57772
variable        starttemp    equal 300

variable xmax equal 25.0
variable xmin equal -25.0
variable ymax equal 12.5
variable ymin equal -12.5
variable zmax equal 12.5
variable zmin equal -12.5
#----------------------------------------------
##########################################
units           metal
atom_style      full

boundary        p p p

#read_restart    config5
lattice         fcc ${lattice_const}
lattice         fcc 3.57772
Lattice spacing in x,y,z = 3.5777200 3.5777200 3.5777200
region sim_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} # units for region are lattice (default)
region sim_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 12.5 
create_box 1 sim_box
Created orthogonal box = (-89.443000 -44.721500 -44.721500) to (89.443000 44.721500 44.721500)
  2 by 1 by 2 MPI processor grid
#region atom_box block -24 -20 -12 -10 -12 -10
region atom_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 12.5
create_atoms 1 region atom_box
Created 125000 atoms
  create_atoms CPU = 0.010 seconds

mass	        1 55.845
variable        mid_val        equal    xhi/2.0

# APT: these commands seem to be mixing lattice and box units
variable        low_val        equal    ${mid_val}-4*${lattice_const}
variable        low_val        equal    44.7215-4*${lattice_const}
variable        low_val        equal    44.7215-4*3.57772
variable        high_val       equal    ${mid_val}+4*${lattice_const}
variable        high_val       equal    44.7215+4*${lattice_const}
variable        high_val       equal    44.7215+4*3.57772

# APT: This is just another way of saying max_val = xhi
variable        max_val        equal    ${high_val}+${low_val}
variable        max_val        equal    59.03238+${low_val}
variable        max_val        equal    59.03238+30.41062

include pot_iron.mod
pair_style eam/fs
pair_coeff * * FeVoter-ChenRecheck.fs Fe

#pair_style      eam/alloy
#pair_coeff      * * FeNiCr_Bonny_2013_ptDef.eam.alloy Fe Cr Ni

set             atom * type 1
  125000 settings made for type
neighbor        2.0 bin
neigh_modify    every 5 delay 0 check yes
#group		myg type 1
#variable        st equal ${starttemp}*1.5
#velocity        all create ${st} 87287 mom yes loop geom

#fix             thermostat all npt temp ${starttemp} ${starttemp} 10.0 iso 0.0 0.0 1000.0
#fix             thermostat all langevin ${starttemp} ${starttemp} 0.1 618341
fix             1 all nve
#fix		rig myg rigid/nve group 1 myg langevin 500 500 0.005 1041
#velocity        all set 5 NULL NULL sum yes units box

######################################################################
#region          lhs block -${high_val} -${low_val} EDGE EDGE EDGE EDGE units box
#region          rhs block  ${low_val} ${high_val} EDGE EDGE EDGE EDGE units box
#group           lhs_group dynamic all region lhs every 1
#group           rhs_group dynamic all region rhs every 1
#fix		hot all langevin 500 500 0.005 1041
#fix		cold rhs_group langevin 100 100 0.01 1041
#fix             qin lhs_group heat 1 ${heatflux}
#fix             qout rhs_group heat 1 -${heatflux}

###########################################################################
compute 	mytemp all temp/com
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te lang flang conv yes 50 e_stop no
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 ${filename}.Te lang flang conv yes 50 e_stop no
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 block_28_14_14.Te lang flang conv yes 50 e_stop no
fix      	flang all langevin 0.0 0.0 1.88735 1041
fix_modify      flang temp mytemp
###########################################################################

# output
compute         pe all pe/atom
compute         ke all ke/atom
variable        temp atom c_ke/1.5/v_boltz

dump            1z1 all custom ${dump_freq} ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 ${filename}.dumpovito id type mol x y z c_ke c_pe
dump            1z1 all custom 100 block_28_14_14.dumpovito id type mol x y z c_ke c_pe

compute         temp_chunk all chunk/atom bin/1d x lower 1.0
fix             4 all ave/chunk 1 ${dump_freq} ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file block_28_14_14.tmpProfile

# run
timestep        0.001
thermo_style 	custom time step temp lx ly lz press pxx pyy pzz etotal epair enthalpy vol density f_melt[1] f_melt[2] # f_flang
thermo          10
run             100
Neighbor list info ...
  update every 5 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.524
  ghost atom cutoff = 6.524
  binsize = 3.262, bins = 55 28 28
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/newton
      stencil: half/bin/3d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 40.77 | 40.77 | 40.77 Mbytes
Time Step Temp Lx Ly Lz Press Pxx Pyy Pzz TotEng E_pair Enthalpy Volume Density f_melt[1] f_melt[2] 
           0        0            0      178.886       89.443       89.443    27436.839    27436.839    27436.839    27436.839   -532207.31   -532207.31   -507700.16      1431097    8.1005253    2814.3722            0 
        0.01       10    15.986385      178.886       89.443       89.443    27695.846    27696.135    27695.838    27695.565   -531936.91    -532195.2   -507198.41      1431097    8.1005253    2523.3468    27.286523 
        0.02       20    27.412075      178.886       89.443       89.443    28250.202    28250.028    28250.624    28249.955   -531674.73   -532117.64   -506441.07      1431097    8.1005253    2263.1508    24.849844 
        0.03       30    32.194521      178.886       89.443       89.443    29158.192    29158.123    29157.094    29159.359   -531442.85   -531963.03   -505398.15      1431097    8.1005253    2033.3787    22.051629 
        0.04       40    33.687966      178.886       89.443       89.443    30246.256    30247.129    30244.419    30247.221   -531234.43   -531778.73   -504217.85      1431097    8.1005253     1827.006     19.26838 
        0.05       50    35.459633      178.886       89.443       89.443    31269.758    31268.666    31270.519     31270.09   -531049.22   -531622.15   -503118.43      1431097    8.1005253     1643.189    17.617422 
        0.06       60    39.177487      178.886       89.443       89.443    32109.378    32106.557    32111.256    32110.321   -530881.94   -531514.94   -502201.18      1431097    8.1005253    1477.3931     15.56978 
        0.07       70    43.547488      178.886       89.443       89.443    32800.249    32795.194    32802.832    32802.721   -530733.72   -531437.33   -501435.86      1431097    8.1005253    1330.3999    13.989757 
        0.08       80    46.938904      178.886       89.443       89.443     33427.64    33419.995    33429.265     33433.66   -530602.65   -531361.06   -500744.39      1431097    8.1005253    1200.4902    12.414633 
        0.09       90    49.385372      178.886       89.443       89.443    33995.166    33989.175    33994.872    34001.451   -530486.17   -531284.11   -500120.99      1431097    8.1005253    1084.9751    11.192211 
         0.1      100    52.294953      178.886       89.443       89.443    34440.068    34437.002    34434.119    34449.082   -530380.61   -531225.56   -499618.03      1431097    8.1005253    980.27607    10.084904 
Loop time of 4.59175 on 4 procs for 100 steps with 125000 atoms

Performance: 1.882 ns/day, 12.755 hours/ns, 21.778 timesteps/s
99.1% CPU use with 4 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 3.7478     | 3.7561     | 3.7624     |   0.3 | 81.80
Bond    | 4.1e-05    | 4.375e-05  | 4.7e-05    |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.1605     | 0.16954    | 0.17826    |   1.6 |  3.69
Output  | 0.061912   | 0.062302   | 0.06298    |   0.2 |  1.36
Modify  | 0.58109    | 0.58354    | 0.58591    |   0.2 | 12.71
Other   |            | 0.02027    |            |       |  0.44

Nlocal:        31250.0 ave       31250 max       31250 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Nghost:        20734.0 ave       20734 max       20734 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Neighs:    1.34375e+06 ave 1.34375e+06 max 1.34375e+06 min
Histogram: 4 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5375000
Ave neighs/atom = 43.000000
Ave special neighs/atom = 0.0000000
Neighbor list builds = 0
Dangerous builds = 0
#velocity        all set 5 NULL NULL sum yes units box
#run 5000

#write_data      ${filename}_${starttemp}.lammps
write_restart     ${filename}_${starttemp}.restart
write_restart     block_28_14_14_${starttemp}.restart
write_restart     block_28_14_14_300.restart
write_restart   config${filename}
write_restart   configblock_28_14_14
Total wall time: 0:00:04
